"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7939],{834:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var t=s(4848),o=s(8453);const i={sidebar_position:5},r="Common Errors",a={id:"install-online-judge/common-errors",title:"Common Errors",description:"Some common errors you may encounter during installation.",source:"@site/docs/install-online-judge/common-errors.md",sourceDirName:"install-online-judge",slug:"/install-online-judge/common-errors",permalink:"/tempdocs/docs/install-online-judge/common-errors",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Cloudflare IP Update",permalink:"/tempdocs/docs/install-online-judge/cloudflare-ip-update"},next:{title:"Utilities",permalink:"/tempdocs/docs/install-online-judge/utilities"}},c={},l=[{value:"<code>npm install</code> hangs on forever",id:"npm-install-hangs-on-forever",level:2},{value:"Error related to Timezone",id:"error-related-to-timezone",level:2},{value:"Module Not Found: <code>pkg_resources</code>",id:"module-not-found-pkg_resources",level:2},{value:"Users can\u2019t register to the main site",id:"users-cant-register-to-the-main-site",level:2},{value:"<code>site.conf</code> gets on FATAL",id:"siteconf-gets-on-fatal",level:2},{value:"<code>celery</code> and <code>bridged</code> <strong>STARTING</strong> then <strong>RUNNING</strong> then <strong>STARTING</strong>, again and again and again and again",id:"celery-and-bridged-starting-then-running-then-starting-again-and-again-and-again-and-again",level:2},{value:"Docker not found",id:"docker-not-found",level:2},{value:"The problem status does not update",id:"the-problem-status-does-not-update",level:2},{value:"Sub-problem: Cannot start memcached",id:"sub-problem-cannot-start-memcached",level:3},{value:"Sub-problem: &#39;Client&#39; object has no attribute &#39;_deletetouch&#39; in django admin logout section",id:"sub-problem-client-object-has-no-attribute-_deletetouch-in-django-admin-logout-section",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"common-errors",children:"Common Errors"})}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"Some common errors you may encounter during installation."})}),"\n",(0,t.jsxs)(n.h2,{id:"npm-install-hangs-on-forever",children:[(0,t.jsx)(n.code,{children:"npm install"})," hangs on forever"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution from:"})," ",(0,t.jsx)(n.a,{href:"https://stackoverflow.com/questions/70865039/npm-install-hangs-on-sill-idealtree-build",children:'"npm install" hangs on sill: idealTree build'})]}),"\n",(0,t.jsx)(n.p,{children:"On Ubuntu 22.10, disabling IPv6 fixed this:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal (Root permissions)"',children:"$ sudo sysctl -w net.ipv6.conf.all.disable_ipv6=1\r\n$ sudo sysctl -w net.ipv6.conf.default.disable_ipv6=1\n"})}),"\n",(0,t.jsxs)(n.p,{children:["To do this permanently, edit\xa0",(0,t.jsx)(n.code,{children:"/etc/default/grub"}),", change:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="/etc/default/grub"',children:'GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"\n'})}),"\n",(0,t.jsx)(n.p,{children:"to:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="/etc/default/grub"',children:'GRUB_CMDLINE_LINUX_DEFAULT="quiet splash ipv6.disable_ipv6=1"\n'})}),"\n",(0,t.jsx)(n.p,{children:"and then run:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal (Root permissions)"',children:"$ sudo update-grub\n"})}),"\n",(0,t.jsx)(n.h2,{id:"error-related-to-timezone",children:"Error related to Timezone"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution from:"})," ",(0,t.jsx)(n.a,{href:"https://docs.dmoj.ca/#/site/installation?id=creating-the-database",children:"DMOJ Documentations"})]}),"\n",(0,t.jsx)(n.p,{children:"Execute this command after initializing database:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal (Root permissions)"',children:"$ mariadb-tzinfo-to-sql /usr/share/zoneinfo | sudo mariadb -u root mysql\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"module-not-found-pkg_resources",children:["Module Not Found: ",(0,t.jsx)(n.code,{children:"pkg_resources"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ModuleNotFoundError: No module named 'pkg_resources'\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Context:"})," After the ",(0,t.jsx)(n.code,{children:"make_style.sh"})," process, you have to execute the command ",(0,t.jsx)(n.code,{children:"./manage.py collectstatic"}),", and it appears this error.\r\n",(0,t.jsx)(n.strong,{children:"Solution from:"})," ",(0,t.jsx)(n.a,{href:"https://stackoverflow.com/questions/7446187/no-module-named-pkg-resources",children:"No module named pkg_resources"})]}),"\n",(0,t.jsxs)(n.p,{children:["Just install ",(0,t.jsx)(n.code,{children:"setuptools"})," module:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal (Environment activated)"',children:"(vnojsite) $ pip install setuptools\n"})}),"\n",(0,t.jsx)(n.h2,{id:"users-cant-register-to-the-main-site",children:"Users can\u2019t register to the main site"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Context:"})," You are the user who is trying to register an account, and this appears:\r\n",(0,t.jsx)(n.img,{src:s(491).A+"",width:"1262",height:"452"}),"\r\n",(0,t.jsx)(n.strong,{children:"Solution from:"})," Giaosus"]}),"\n",(0,t.jsxs)(n.p,{children:["Change/Add this line into your ",(0,t.jsx)(n.code,{children:"dmoj/local_settings.py"})," or ",(0,t.jsx)(n.code,{children:"dmoj/settings.py"}),", depending on your implementations:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:'title="dmoj/local_settings.py or dmoj/settings.py"',children:"SEND_ACTIVATION_EMAIL = False\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"siteconf-gets-on-fatal",children:[(0,t.jsx)(n.code,{children:"site.conf"})," gets on FATAL"]}),"\n",(0,t.jsx)(n.p,{children:"The error which you encountered probably is:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'open("/tmp/dmoj-site.pid"): Permission denied [core/utils.c line 3602]\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Easy solution, change the permissions of ",(0,t.jsx)(n.code,{children:"/tmp"})," folder:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:'title="Terminal (Root permissions)"',children:"$ chmod 755 /tmp -R\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"celery-and-bridged-starting-then-running-then-starting-again-and-again-and-again-and-again",children:[(0,t.jsx)(n.code,{children:"celery"})," and ",(0,t.jsx)(n.code,{children:"bridged"})," ",(0,t.jsx)(n.strong,{children:"STARTING"})," then ",(0,t.jsx)(n.strong,{children:"RUNNING"})," then ",(0,t.jsx)(n.strong,{children:"STARTING"}),", again and again and again and again"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"ImportError: cannot import name 'WebSocketException' from 'websocket' (unknown location)\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:'title="Terminal (Environment activated)"',children:"$ pip install websocket-client\n"})}),"\n",(0,t.jsx)(n.h1,{id:"403-forbidden-nginx",children:"403 Forbidden (Nginx)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Context:"})," Most of the static files are unable to be picked up.\r\n",(0,t.jsx)(n.strong,{children:"Solution:"})]}),"\n",(0,t.jsxs)(n.p,{children:["Nginx need to have ",(0,t.jsx)(n.code,{children:"+x"})," access on all directories leading to the site's root directory.\r\nEnsure you have ",(0,t.jsx)(n.code,{children:"+x"})," on all of the directories in the path leading to the site's root. For example, if the site root is ",(0,t.jsx)(n.code,{children:"/home/username/siteroot"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal (Root permissions)"',children:"$ chmod +x /home/\r\n$ chmod +x /home/username\r\n$ chmod +x /home/username/siteroot\n"})}),"\n",(0,t.jsx)(n.h1,{id:"413-request-entity-too-large-nginx",children:"413 Request Entity Too Large (Nginx)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Context:"})," As the title has said.\r\n",(0,t.jsx)(n.strong,{children:"Solution:"})," Add this line into your ",(0,t.jsx)(n.code,{children:"nginx.conf"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:'language-title="nginx.conf"',children:"client_max_body_size 1G;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"docker-not-found",children:"Docker not found"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal (Root permissions)"',children:"$ sudo apt install docker.io\n"})}),"\n",(0,t.jsx)(n.h2,{id:"the-problem-status-does-not-update",children:"The problem status does not update"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution from:"})," ",(0,t.jsx)(n.a,{href:"https://github.com/DMOJ/online-judge/issues/816",children:"https://github.com/DMOJ/online-judge/issues/816"})]}),"\n",(0,t.jsxs)(n.p,{children:["Probably you are using the default\xa0",(0,t.jsx)(n.a,{href:"https://github.com/DMOJ/docs/blob/146b960c833aa59ef13cee5ee08e8122accf71f6/sample_files/local_settings.py#L28",children:"cache backend settings"}),".\r\nYou should be using redis or ",(0,t.jsx)(n.code,{children:"memcached"})," instead of ",(0,t.jsx)(n.code,{children:"LocMemCache"}),". I recommend ",(0,t.jsx)(n.code,{children:"memcached"}),", it is very easy to set up."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Install instructions from:"})," ",(0,t.jsx)(n.a,{href:"https://medium.com/@netfluff/memcached-for-django-ecedcb74a06d",children:"https://medium.com/@netfluff/memcached-for-django-ecedcb74a06d"}),"\r\n(",(0,t.jsx)(n.a,{href:"https://medium.com",children:"medium.com"})," is being banned in Vietnam, consider using a VPN)"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal (Environment activated)"',children:"(vnojsite) $ pip install python-memcached==1.59\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:'title="Terminal (Root permissions)"',children:"$ sudo apt-get install memcached\r\n\r\n[OPTIONAL] $ memcached -vv\r\n\r\n$ sudo service memcached start\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"DJANGO"})," setup:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:'title="settings.py"',children:"CACHES = {\r\n    'default': {\r\n        'BACKEND': 'django.core.cache.backends.memcached.MemcachedCache',\r\n        'LOCATION': '127.0.0.1:11211'\r\n    }\r\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"sub-problem-cannot-start-memcached",children:"Sub-problem: Cannot start memcached"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution from:"})," ",(0,t.jsx)(n.a,{href:"https://stackoverflow.com/questions/60250885/cannot-start-memcached",children:"https://stackoverflow.com/questions/60250885/cannot-start-memcached"})]}),"\n",(0,t.jsxs)(n.p,{children:["Have a look into ",(0,t.jsx)(n.code,{children:"/etc/memcached.conf"}),", there might be written something like:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",metastring:"title='/etc/memcached.conf\"",children:"-l xxx.xx.xx.xx\r\n-l ::1\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If you are trying to connect via ",(0,t.jsx)(n.code,{children:"localhost"}),": just comment the line."]}),"\n",(0,t.jsx)("br",{}),"\n",(0,t.jsx)(n.p,{children:"If you are trying to connect from somewhere else check the IP for correctness."}),"\n",(0,t.jsx)(n.h3,{id:"sub-problem-client-object-has-no-attribute-_deletetouch-in-django-admin-logout-section",children:"Sub-problem: 'Client' object has no attribute '_deletetouch' in django admin logout section"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Solution from:"})," ",(0,t.jsx)(n.a,{href:"https://stackoverflow.com/questions/63394004/client-object-has-no-attribute-deletetouch-in-django-admin-logout-section",children:"https://stackoverflow.com/questions/63394004/client-object-has-no-attribute-deletetouch-in-django-admin-logout-section"})]}),"\n",(0,t.jsxs)(n.p,{children:["In case anyone got stock in this again, I've tested recent versions of python-memcached, found recently updated versions, which is ",(0,t.jsx)(n.strong,{children:"1.60"})," and ",(0,t.jsx)(n.strong,{children:"1.61"})," would cause this. So I rolled back to ",(0,t.jsx)(n.strong,{children:"1.59"})," and solve the problem.\r\n(this solution has been included in aforementioned instructions)"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},491:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/registratio-error-cf10e42725bef8f72a55246bd65ca34b.webp"},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var t=s(6540);const o={},i=t.createContext(o);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);